---
date: 2024-07-01

layout: post
title: "vim&vscode"
date: 2021-07-01T11:00:00.000Z
last_modified_at: 2024-07-01T20:28:59.000Z
categories:
  - 技术 
tags:
---

### 行操作
- 移动到行首（非空字符）： `H` (改键)
- 移动到行尾 : `L`(改键)
- 行尾插入:`A`
- 行首插入:`I`
- 下一行插入:`o`
- 上一行插入:`O`

### 字符操作
- `x` : 删除当前字符
- `s` : 删除当前字符并插入
- `S` : 删除当前行所有字符并重新输入
- `r` : 替换当前字符

### 可视化操作
- `o` : 改变可视化区域的光标位置

### 文本对象
`i` -> 内部对象
`a` -> 外部对象
 - `w` -> 单词对象
- `(` 或 `)` 或 `b` -> 括号对象
- `[]`和`{}`同理
- `B` -> 等于`{}`
- `t` -> XML标签
- `''`、`"`同理
- `s` -> 一个句子（到下个标点符号）
- `p` -> 一个段落 （到下个换行符）

vim-textobj-arguments插件
- `a` -> 不包含分隔符
- `aa` -> 包含分隔符

### 滚动
- `ctrl` + `f` : 往下滚一屏
- `ctrl` + `b` : 往上滚一屏
- `gg` : 跳到文件首部
- `G` : 跳到文件尾部
- 行数 + `gg/G` : 跳转到指定行 

### 单行查找
- `f` : 移动到下个输入的字符
- `F` : 反向f
- `t` : 移动到查找字符的前一个字符
- `T` : 反向t
- `;` : 重复上次的查找命令
- `,` : 反向重复上次查找命令

### 全局查找
- `/` : 向后查
- `?` : 向前查
- `/` + `上 / 下` : 查看搜索历史

### vim-easymotion
任意门
- `leader * 2` + `w / e` : 向后跳转点
- `leader * 2` + `b / ge` : 向前跳转点
- `leader * 2` + `j / k` : 基于行跳转
- `leader * 2` + `l / h` : 向前/后生成很多跳转点

### vim-sneak
基于两个字符的全局型f
- `s / S` + 两个字符
干脆替换掉f就是
- `f / F` + 两个字符

同时也替换掉`z`

### 重复操作
- `.` : 重复上一次的操作
一键移动 + 一键操作 都可重复
例如，全局搜索并替换

### 标记与跳转
- `m` + `小写字母` : 单文件标记位置
- `m` + `大写字母` : 多文件标记位置 
- `'` + `标记字母` : 回到标记的行
- `反引号` + `标记字母` : 回到标记的行和列（更精准） 
- `gd` : 跳转到函数/变量定义
- `{` 或 `}` : 跳转到下一个或上一个段落

跳转后返回
- `ctrl` + `o` : 返回上一个跳转的位置
- `ctrl` + `i` : 返回下一个跳转的位置

### vim-surround
- `cs <existing> <desired>` : 修改包裹字符的符号
- `ys <motion> <desired>` : 添加包裹的符号
- `ds <existing>` : 删除包裹字符的符号
- 可视化模式下 `S <desired>` : 添加包裹符号

### 替换字符串
- 公式：`:[range]/s/[ubstitute]/{pattern}/{string}/[flags]` ，中括号是可选参数
- range
	- `$` - 到尾部
	- `%` - 全文 （只会匹配每行第一个）
	- `number,number` - x行到x行
- pattern : 正则
- flag
	- `g` : 匹配每行全量
	- `c` : 对话框询问

在可视化模式下，自动全部替换

### 多选操作
- `gb` : 多选(区分大小写)

### 悬浮显示
- `gh` : 悬浮显示

### 大小写转换
- `gu` : 转换成小写
- `gU` : 转换成大写

可视化下：
- `u` : 小写
- `U` : 大写

### 注释
- `gc` : 单行注释
- `gC` : 多行注释

### 窗口管理（含vscode）
- 新建窗口
	- 左右: `ctrl w` + `v`
	- 上下: `ctrl w` + `s`
- 窗口游走：`ctrl w` + `hjkl`
- 窗口互换：`ctrl w` + `w`
- 关闭窗口：`ctrl w` + `c`
- 保留当前窗口，关闭其他所有窗口: `ctrl w`  + `o`

扩展（自定义vscode快捷键）：
- 新建窗口: `cmd + \`
- 关闭窗口
	- 关闭当前窗口: `cmd + w`
	- 关闭全部窗口: `cmd + k + w`
- 窗口切换
	- `shift` + 方向键

### vscode indent object
可视化模式下：
- `%` : 选择括号内部内容
- `ii` : 选中缩进块内容
- `ai` : 选中整个内容

### 宏
- `q` + `字母（代表寄存器）` : 开始录制
- `q` : 结束录制
- `@` + `字母` : 执行宏
- `数字`  + `@` + `字母`: 连续执行一定次数的宏
- `@@` : 执行最后一次执行的宏
- `q` + `大写字母（寄存器）`: 追加

注意点：
- 规范好光标位置
- 移动时使用相对位置（w、e等)

### vscode搜索
- `command + shift + f` : 打开搜索面板
	- 使用`command + 方向键`移动。
	- `shift + command + g` : 打开筛选栏
- `command + t` : 在整个工作区搜索变量/函数
- `shift + command + o` : 在当前文件搜索变量/函数，在键入`:`，可以分隔变量和函数 
- `command + shift + p` : 搜索vscode命令(包括插件命令)

### vscode编码中快捷键
- `command + i` : 触发suggestion
- `command + .` : show code actions
- `shift + command + space` : trigger parameter hints
- `command + enter` : 增加行  (不同于`o`,它不会进入insert模式)
- `command + shift + enter` : 在上面增加行 
- `f8` : 跳转到下一个错误处
- `shift + f8` : 跳转到上一个错误处
- `command + f2` : 选择所有出现的单词

### vscode重构
`command + .`" : 命令提示
`ctrl + shift + R` : 和重构相关的命令提示
- extract to a function
- extract to a variable

插件：abracadabra、hocus pocus、javascript booster

### 组合键
- `ciw`: 删除当前单词并修改
- `cib` : 删除并修改括号内容
- `ci"`、`ci'`：删除并修改引号内容
- `cia` : 删除并修改当前参数
- `daa` : 删除当前参数（连分隔符一起)
- `dt / ct` + `字符` : 删除到查找字符
- `ea`: 在当前单词后插入
- `v/d + ii` : 选择/删除花括号块内部内容
- `v/d + aI` : 在函数内部: 选择/删除整个函数（可以把`I`映射成`i`)
- `V + $ + % + d` : 在函数第一行: 选择/删除整个函数（可以做成配置）-> `<leader> d f`